<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.jspboard2.mapper.MemberMapper">
    <select id="getMembership" resultType="com.example.jspboard2.domain.Member">
        INSERT INTO
            member_tb (USER_MEMBER,
                       PASSWORD_MEMBER,
                       NAME_MEMBER,
                       EMAIL_MEMBER,
                       EMAILCHECK_MEMBER,
                       GENDER_MEMBER,
                       REGDATE_MEMBER,
                       RATING_MEMBER)
        VALUES        (#{userMember},
                       #{userPw},
                       #{userName},
                       #{userEmailComplet},
                       #{emailChk},
                       #{userGender},
                       curdate(),
                       2)
    </select>

    <select id="checkLogin" resultType="com.example.jspboard2.domain.Member">
        SELECT *
        FROM member_tb
        <where>
            USER_MEMBER = #{loginId} and PASSWORD_MEMBER = #{loginPw}
        </where>
    </select>
    <select id="modifyMemberDetail" resultType="com.example.jspboard2.domain.Member" parameterType="map">
        UPDATE member_tb
        SET EMAIL_MEMBER = #{emailMember}, NAME_MEMBER = #{nameMember}
        <where>
            ID_MEMBER = #{idMember}
        </where>
    </select>
    <select id="deleteMember" resultType="String">
        DELETE FROM MEMBER_TB
        <where>
            ID_MEMBER = #{idMember}
        </where>
    </select>
    <select id="getMember" resultType="com.example.jspboard2.domain.Member">
        SELECT *
        FROM member_tb
        <where>
            ID_MEMBER = #{idMember}
        </where>
    </select>
    <select id="getMMember" resultType="com.example.jspboard2.domain.Member">
        SELECT *
        FROM member_tb
        <where>
            ID_MEMBER = #{idMember}
        </where>
    </select>
    <select id="getManagerMember" resultType="com.example.jspboard2.domain.Member" parameterType="int">
        SELECT *
        FROM MEMBER_TB
        ORDER BY ID_MEMBER DESC
        LIMIT 10;
    </select>
    <select id="getAllManager" resultType="java.lang.Integer">
        SELECT COUNT(*) as count FROM member_tb;
    </select>
</mapper>